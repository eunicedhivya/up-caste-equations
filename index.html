<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UP Caste Equations</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Georama:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,500;1,600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/upcasteeq.css">
    <link rel="stylesheet" href="css/model.css">
</head>
<body>
    <div id="error"></div>
    <div class="UPCasteEq_wrapper">
        <div class="UPCasteEq_model_blackout" style="display: none;"></div>
        <div class="UPCasteEq_model" style="display: none;">
            <div class="UPCasteEq_model_inner">
                <button id="closeModel">X</button>
                <div class="UPCasteEq_model_content">
                    <div id="methodology" style="display: none;">
                        <h2>Methodology</h2>
                        <p>Eight filters have been used to calculate the winning probability of the candidate based on the combination of factors
                        that a user selects.</p>
                        <p>These parameters include anti-incumbency, winning margin in the previous assembly election, caste of the candidate,
                        voters' party preference, SC population, and caste-wise party preferences. Each parameter is assigned with a certain
                        value based on the previous election results and voter preferences in the respective category. Further, the consolidated
                        result of all these parameters is the outcome i.e. “winning probability” of the candidate under chosen conditions.</p>
                        <p>These results do not claim the absolute victory but the possibility of victory based on selected parameters.</p>
                        <p style="border-top: 1px solid #000; margin: 10px auto 0 auto;width: 80%;padding-top: 10px;"><b>Concept and data modelling:</b> Akash Gulankar, Partha Das, Varun Sharma | <b>Development:</b> Eunice Elizabeth Dhivya | <b>Design:</b> Prathap Ravishankar</p>
                    </div>
                    <!-- <div id="result" style="display: none;">
                        <p>Selected parameters</p>
                        <div class="result_header">
                            <div><b>Constituency</b> <span id="chosenConst"></span></div>
                            <div><b>Party</b> <span id="chosenParty"></span></div>
                            <div><b>Caste</b> <span id="chosenCaste"></span></div>
                        </div>
                        <div class="result_body">
                            <div><b>Your Prediction</b> <span id="userPrediction"></span></div>
                            <div><b>Result based on our model</b> <span id="modelPrediction"></span></div>
                        </div>
                        <button id="closeModel2">close</button>
                    </div> -->
                    <div id="result" style="display: none;">
                        <p>Selected parameters</p>
                        <p>Dummy text goes here. Dummy text goes here.</p>
                        <p>Dummy text goes here. Dummy text goes here.</p>
                        <p>Dummy text goes here. Dummy text goes here.</p>
                        <p>Dummy text goes here. Dummy text goes here.</p>
                        <div class="result_body">
                            <div id="bjp">
                                <h3>BJP</h3>
                                <p class="precent">13%</p>
                                <div class="seatsWrap">
                                    <h1>169</h1>
                                    <small>SEATS</small>
                                </div>
                                <div class="lost">
                                    <p>-112</p>
                                    <p>SEATS</p>
                                </div>
                            </div>
                            <div id="sp">
                                <h3>SP</h3>
                                <p class="precent">13%</p>
                                <div class="seatsWrap">
                                    <h1>54</h1>
                                    <small>SEATS</small>
                                </div>
                                <div class="won">
                                    <p>+12</p>
                                    <p>SEATS</p>
                                </div>
                            </div>
                            <div id="bsp">
                                <h3>BSP</h3>
                                <p class="precent">13%</p>
                                <div class="seatsWrap">
                                    <h1>14</h1>
                                    <small>SEATS</small>
                                </div>
                                <div class="won">
                                    <p>+52</p>
                                    <p>SEATS</p>
                                </div>
                            </div>
                            <div id="congress">
                                <h3>Congress</h3>
                                <p class="precent">13%</p>
                                <div class="seatsWrap">
                                    <h1>20</h1>
                                    <small>SEATS</small>
                                </div>
                                <div class="won">
                                    <p>+2</p>
                                    <p>SEATS</p>
                                </div>
                            </div>
                            <div id="others">
                                <h3>Others</h3>
                                <p class="precent">13%</p>
                                <div class="seatsWrap">
                                    <h1>5</h1>
                                    <small>SEATS</small>
                                </div>
                                <div class="lost">
                                    <p>-6</p>
                                    <p>SEATS</p>
                                </div>
                            </div>
                        </div>
                        <button id="closeModel2">close</button>
                    </div>
                </div>
            </div>
        </div>
        <h1 class="UPCasteEq_headline" >UP 2022: The <span class="highlight">Numbers</span> Game</h1>
        <p class="UPCasteEq_desc">This widget lets you play pollster, putting into your hands the tools you’ll need to select caste and party combos to predict who will win UP in 2022, and also see how your choice stacks up against what our psephologist forecasts.</p>
        <div class="row levl1">
            <div class="col">
                <!-- <span>Choose Phase</span> -->
                <select name="" class="upcaste_dropdown" id="phase">
                    <option value="Select phase">Select phase</option>
                    <option value="Phase-1">Phase 1</option>
                    <option value="Phase-2">Phase 2</option>
                    <option value="Phase-3">Phase 3</option>
                    <option value="Phase-4">Phase 4</option>
                    <option value="Phase-5">Phase 5</option>
                    <option value="Phase-6">Phase 6</option>
                    <option value="Phase-7">Phase 7</option>
                </select>
            </div>
            <div class="col">
                <!-- <span>Choose Phase</span> -->
                <select name="" class="upcaste_dropdown" id="constituency">
                    <option value="Select constituency">Select constituency</option>
                </select>
            </div>
        </div>
        <div class="row">
            <p class="UPCasteEq_desc">This section lets you pick odds as calculated by our expert. To see whom the numbers favour, pick a party and select caste, category from the drop-down boxes.</p>
        </div>
        <div class="row levl2">
            <div class="dominantcastetext col">
                <p>Dominant communities in the constituency</p>
                <ul id="caste_list">
                    <li>-</li>
                    <li>-</li>
                    <li>-</li>
                </ul>
            </div>
            <div class="filters col">
                <!-- <p class="UPCasteEq_desc">In 2017 the winninng candidate was from <span id="won2017"></span> party and <span id="caste2017"></span> the community.</p> -->
                <p class="UPCasteEq_desc">In 2017 the winninng candidate was <span id="name2017">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> from <span id="won2017">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> party and <span id="caste2017">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> community</p>
                <!-- <span>choose party</span> -->
                <select name="" class="upcaste_dropdown" id="candParty">
                    <option>Select party</option>
                </select>
                <!-- <span>choose caste</span> -->
                <select name="" class="upcaste_dropdown" id="candCaste">
                    <option>Select caste</option>
                </select>
                <!-- <span class="dom-voters-text">Dominant voters in the constituency</span>
                <select name="" class="upcaste_dropdown" id="candCategory">
                    <option>Select category</option>
                </select> -->
            </div>
        </div>
        <div class="row">
            <p class="UPCasteEq_desc">Now, use the slider to predict the chances of your candidate winning the constituency. Hit “submit” to see how your pick stacks up against the expert’s choice.</p>
        </div>
        <div class="slider">
            <div class="sliderValue">
                <span id="range_value">0</span>
            </div>
            <div class="UPCasteEq_range">
                <span>0</span>
                <input type="range" name="range" id="probable_range" min="0" max="100" value="0" />
                <span>100%</span>
            </div>
            <p id="bjp_header">BJP | 57 seats in 2017</p>
            <div class="UPCasteEq_range">
                <span>0</span>
                <div class="sliderWrap" id="bjp_Slider">
                    <input type="range" name="range" class="range" id="bjp_range" min="0" max="100" value="0" />
                    <div class="sliderSel" id="bjp_selector">
                        <div class="slider"></div>
                        <div class="value"></div>
                    </div>
                    <div class="progressBar"></div>
                </div>
                <span>100%</span>
            </div>
            <p id="sp_header">SP | 57 seats in 2017</p>
            <div class="UPCasteEq_range">
                <span>0</span>
                <div class="sliderWrap" id="sp_Slider">
                    <input type="range" name="range" class="range" id="sp_range" min="0" max="100" value="0" />
                    <div class="sliderSel" id="sp_selector">
                        <div class="slider"></div>
                        <div class="value"></div>
                    </div>
                    <div class="progressBar"></div>
                </div>
                <span>100%</span>
            </div>
            <p id="bsp_header">BSP | 57 seats in 2017</p>
            <div class="UPCasteEq_range">
                <span>0</span>
                <div class="sliderWrap" id="bsp_Slider">
                    <input type="range" name="range" class="range" id="bsp_range" min="0" max="100" value="0" />
                    <div class="sliderSel" id="bsp_selector">
                        <div class="slider"></div>
                        <div class="value"></div>
                    </div>
                    <div class="progressBar"></div>
                </div>
                <span>100%</span>
            </div>
            <p id="congress_header">Congress | 57 seats in 2017</p>
            <div class="UPCasteEq_range">
                <span>0</span>
                <div class="sliderWrap" id="congress_Slider">
                    <input type="range" name="range" class="range" id="congress_range" min="0" max="100" value="0" />
                    <div class="sliderSel" id="congress_selector">
                        <div class="slider"></div>
                        <div class="value"></div>
                    </div>
                    <div class="progressBar"></div>
                </div>
                <span>100%</span>
            </div>
            <p id="others_header">Others | 57 seats in 2017</p>
            <div class="UPCasteEq_range">
                <span>0</span>
                <div class="sliderWrap" id="others_Slider">
                    <input type="range" name="range" class="range" id="others_range" min="0" max="100" value="0" />
                    <div class="sliderSel" id="others_selector">
                        <div class="slider"></div>
                        <div class="value"></div>
                    </div>
                    <div class="progressBar"></div>
                </div>
                <span>100%</span>
            </div>
        </div>
        <p id="errors"></p>
        <div class="UPCasteEq_buttons">
            <button id="submit">Submit</button>
            <button id="reset">Reset</button>
        </div>
        <button id="method">Methodology</button>

    </div>
    <script src="assets/rawdata.js"></script>
    <script src="js/script.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        const slideValue = document.querySelector("#range_value");
        const inputSlider = document.querySelector("#probable_range");
        inputSlider.oninput = (() => {
            let value = inputSlider.value;
            slideValue.textContent = value + "%";
            slideValue.style.left = (value / 2) + "%";
            slideValue.classList.add("show");
        });
        inputSlider.onblur = (() => {
            slideValue.classList.remove("show");
        });
        // Slider function
        $(document).ready(function(){
            function sliderFun(selector, color) {
                var rang = $("#bjp_range").val();
                $("#"+selector+"_selector .value").html(rang + "%");
                $("#"+selector+"_header").css("color", color);
                $("#"+selector+"_range").on("input", function(){
                    $("#"+selector+"_selector").css("left", this.value + "%");
                    $("#"+selector+"_selector .slider").css("background", color);
                    $("#"+selector+"_selector .value").html(this.value + "%");
                    $("#"+selector+"_Slider .progressBar").css({"width": this.value + "%", "background": color});;
                })
            }
            sliderFun("bjp", "#F47216")
            sliderFun("sp", "#ff0000")
            sliderFun("bsp", "#36A9E1")
            sliderFun("congress", "#3AAA35")
            sliderFun("others", "#797979")
        })
    </script>
</body>
</html>